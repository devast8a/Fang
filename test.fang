class Foo {
    val x: int

    op destructor(own self: Foo){
        writeLn("Destroy Foo %d\n", self.x)
    }
}

fn test(own foo: Foo){
    writeLn("Test Foo %d\n", foo.x)
}

fn main(){
    val a: Foo = Foo{}
    val b: Foo = Foo{}

    a.x = 10
    b.x = 20

    test(move(a))

    writeLn("Main Foo %d\n", b.x)
}